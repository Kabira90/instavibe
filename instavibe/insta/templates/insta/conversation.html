{% extends 'insta/base.html' %}
{% block content %}
<div class="container">
    <h3>Chat with {{ receiver.username }}</h3>
    <div class="border p-3 mb-3" style="height: 300px; overflow-y: scroll;">
        {% for message in messages %}
            <p><strong>{{ message.sender.username }}:</strong> {{ message.content }}</p>
        {% endfor %}
    </div>
    <form method="post" action="{% url 'send_message' receiver.id %}">
        {% csrf_token %}
        <textarea name="content" class="form-control mb-2" rows="2" placeholder="Type a message..."></textarea>
        <button type="submit" class="btn btn-primary">Send</button>
    </form>
</div>
{% endblock %}
